# Документация Telegram-бота <a name="TOC"></a>
<!-- TOC -->
* [Инструкция по установке запуску бота](#installation_guide)
* [Инструкция пользователя](#user_guide)
  * [Авторизация в боте](#user_auth)
  * [Элементы управления](#user_interface)
  * [Поиск](#user_search)
  * [История](#history)
<!-- TOC -->
## Инструкция по запуску бота <a name="installation_guide"></a>
- Требуется установить библиотеки, необходимые для работы скрипта, командой:  
`pip intstall -r requirements.txt`
- Перед запуском срипта необходимо задать следующие переменные переменные окружения в файле <u>**.env**</u>:

| Имя переменной | Описание значения переменной                                                     |
|----------------|----------------------------------------------------------------------------------|
| TG_TOKEN       | Уникальный код бота. Получить его можно пройдя по ссылке: https://t.me/BotFather |
| API_KEY        | Ключ API                                                                         |
| API_HOST       | Доменное имя сервиса                                                             |
API_KEY и API_HOST можно получить пройдя регистрацию на сайте https://rapidapi.com
и оформив подписку на API по ссылке: https://rapidapi.com/apidojo/api/hotels4/pricing

![](/images/registration_API.png)

- из папки с проектом в терминале ввести команду <u>**python main.py**</u>

## Инструкция пользователя <a name="user_guide"></a>
### Авторизация в боте <a name="user_auth"></a>
Авторизация в боте проходит автоматически при введении команды <u>**/start**</u>

### Элементы управления <a name="user_interface"></a>
Описание текстовых команд показывается пользователю при введении команды <u>**/help**</u>

![](/images/help.png)

Пользователь может писать команды в чат или использовать кнопки

### Поиск <a name="user_search"></a>
Для настройки диапазона поиска пользователю нужно ввести команду <u>**/custom**</u>.

Параметры поиска определяются пользователем:
- **город**;
- **минимальная стоимость за 1 ночь в USD**;
- **максимальная стоимость за 1 ночь в USD**;
- **количество предложений выдаваемых ботом**

После настройки диапазона поиска пользователь может начать поиск и получить его результат с помощью команд:
- **/low** - получить самые дешевые предложения;
- **/high** - получить самые дорогие предложения

![](/images/offer.png)

Перед началом поиска его критерии а также команда будут сохранены в истории запросов пользователя

При повторном введении команды <u>**/start**</u> бот перезапустится и сотрет критерии поиска но история запросов сохранится

### История <a name="history"></a>
При введении команды <u>**/history**</u> бот выдаст последние 10 запросов пользователя

![](/images/history.png)
