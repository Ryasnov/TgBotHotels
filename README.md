# Документация Telegram-бота <a name="TOC"></a>
<!-- TOC -->
 * [Инструкция по запуску бота](#инструкция-по-запуску-бота)
 * [Инструкция пользователя](#инструкция-пользователя)
   * [Авторизация в боте](#авторизация-в-боте)
   * [Элементы управления](#элементы-управления)
   * [Поиск](#поиск)
   * [История](#история)
<!-- TOC -->
## Инструкция по запуску бота
- Требуется установить библиотеки, необходимые для работы скрипта, командой:  
`pip intstall -r requirements.txt`
- Перед запуском скрипта необходимо задать следующие переменные окружения в файле <u>**.env**</u>:

| Имя переменной | Описание значения переменной                                                     |
|----------------|----------------------------------------------------------------------------------|
| TG_TOKEN       | Уникальный код бота. Получить его можно пройдя по ссылке: https://t.me/BotFather |
| API_KEY        | Ключ API                                                                         | |

API_KEY можно получить пройдя регистрацию на сайте https://rapidapi.com
и оформив подписку на API по ссылке: https://rapidapi.com/apidojo/api/hotels4/pricing

![](/images/registration_API.png)

- из папки с проектом в терминале ввести команду 
`python main.py`

## Инструкция пользователя
### Авторизация в боте <a name="user_auth"></a>
Авторизация в боте проходит автоматически при введении команды <u>**/start**</u>

### Элементы управления
Описание текстовых команд показывается пользователю при введении команды <u>**/help**</u>

![](/images/help.png)

Пользователь может писать команды в чат или использовать кнопки

![](/images/buttons.png)

### Поиск
Для настройки диапазона поиска пользователю нужно ввести команду <u>**/settings**</u>.

Параметры поиска определяются пользователем:
- **город**;
- **дата заезда**;
- **дата выезда**;
- **минимальная стоимость за 1 ночь в USD**;
- **максимальная стоимость за 1 ночь в USD**;
- **количество предложений выдаваемых ботом**.

После настройки диапазона поиска пользователь может начать поиск и получить его результат с помощью команд:
- **/low** - получить самые дешевые предложения;
- **/high** - получить самые дорогие предложения

![](/images/offer.png)


При повторном введении команды <u>**/start**</u> бот перезапустится и сотрет критерии поиска, но история запросов сохранится

### История
При введении команды <u>**/history**</u> бот выдаст последние 10 результатов запросов пользователя

![](/images/history.png)
